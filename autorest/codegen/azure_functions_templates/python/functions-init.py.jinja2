{% set object_base_class = "" if async_mode else "(object)" %}
{% set operations_description = "async operations" if async_mode else "operations" %}
{% set return_none_type_annotation = " -> None" if async_mode else "" %}
# coding=utf-8
{{ code_model.options['license_header'] }}

{{ imports }}

def main(req: {{ request_type }}) -> {{ return_type }}:
    """{{ function_name }} {{ operations_description }}.

    - Auto-generated function code

    :param req: {{ request_comment_description }}
    :type req: {{ request_type }}
    :returns: {{ return_comment_description }}
    :rtype: {{ return_type }}
    """

    logging.info('Python HTTP trigger function processed a request.')

    try:
        {{ magic_comment }}

        return {{ return_type }}(u"Return stuff here.", status_code={{ success_status_code }})

    except:
        return {{ return_type }}(u"This function executed unsuccessfully.",
                                 status_code={{ failure_status_code }})
